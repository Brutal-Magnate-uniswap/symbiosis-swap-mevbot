--------
----
--
--  This file is automatically generated from the template located at
--  /etc/symbiosis/prosody.d/ssl.template.erb.
--
--  Feel free to make changes to this file.  If changes are made, then this file
--  will not be updated automatically when the template changes.
--
----
------

-- Section for <%= domain %>

-- This allows clients to connect to localhost. No harm in it.
VirtualHost "<%=domain %>"
  enabled = true
  
  -- Assign this host a certificate for TLS, otherwise it would use the one
  -- set in the global section (if any).
  ssl = {
    <%= ssl_config %>
  }

  --
  -- This allows prosody to authenticate via Dovecot.
  --
  authentication = "dovecot"
  dovecot_auth_socket = "/var/run/prosody/dovecot-auth"
  auth_append_host    = true


-- Set up conference facilities
Component "conference.<%= domain %>" "muc"

  -- Set the name of this conference facility
  name = "<%= domain %> chatrooms"

  -- Allow local users to create rooms.
  restrict_room_creation = "local"

